; ğŸš€ PlatformIO Project Configuration File for Ground-Lora
; ğŸ“¡ ESP32-based LoRa Ground Control Station with PS5 Controller
;
;   Build options: build flags, source filter ğŸ”§
;   Upload options: custom upload port, speed and extra flags ğŸ“¤
;   Library options: dependencies, extra library storages ğŸ“š
;   Advanced options: extra scripting âš™ï¸
;   Testing options: unit test configuration ğŸ§ª
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html ğŸ“–

[env:ttgo-lora32-v21]
platform = espressif32          ; ğŸ“± ESP32 platform
board = ttgo-lora32-v21         ; ğŸ¯ TTGO LoRa32 v2.1 board
framework = arduino             ; ğŸ¤– Arduino framework
monitor_speed = 115200          ; ğŸ“Š Serial monitor baud rate
lib_deps = 
	thingpulse/ESP8266 and ESP32 OLED driver for SSD1306 displays@^4.5.0  ; ğŸ–¥ï¸ OLED display driver
	sandeepmistry/LoRa@^0.8.0   ; ğŸ“¡ LoRa communication library

; ğŸ§ª Unit Testing Configuration
test_framework = unity          ; ğŸ¯ Unity testing framework
test_speed = 115200            ; ğŸ“Š Test serial monitor speed
test_build_src = yes           ; ğŸ”§ Build source files for testing
test_filter = 
    test_utilities             ; ğŸ› ï¸ Basic utility function tests
    test_lora                  ; ğŸ“¡ LoRa communication tests  
    test_ps5                   ; ğŸ® PS5 controller tests
    test_display               ; ğŸ–¥ï¸ Display functionality tests
    test_safety                ; ğŸ›¡ï¸ Safety system tests
    test_integration           ; ğŸ”„ Integration tests
    test_main                  ; ğŸš€ Main system tests

; ğŸ§ª Test Environment (for running tests on target hardware)
[env:test]
platform = espressif32
board = ttgo-lora32-v21
framework = arduino
test_framework = unity
test_speed = 115200
test_build_src = yes
lib_deps = 
	thingpulse/ESP8266 and ESP32 OLED driver for SSD1306 displays@^4.5.0
	sandeepmistry/LoRa@^0.8.0
build_flags = 
    -DUNIT_TEST                ; ğŸ§ª Enable unit testing mode
    -DTEST_MODE               ; ğŸ§ª Test mode flag
monitor_speed = 115200

; ğŸ–¥ï¸ Native Testing Environment (for running tests on development machine)
[env:native]
platform = native             ; ğŸ’» Native platform for local testing
test_framework = unity         ; ğŸ¯ Unity testing framework  
test_build_src = yes          ; ğŸ”§ Build source files
test_filter = 
    test_utilities            ; ğŸ› ï¸ Can run utility tests natively
build_flags = 
    -DUNIT_TEST              ; ğŸ§ª Enable unit testing mode
    -DNATIVE_TEST            ; ğŸ’» Native testing flag